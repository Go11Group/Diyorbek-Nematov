syntax = "proto3";

option go_package = "./generated/library_server/";

package generated;

service LibraryService {
    rpc AddBook(AddBookRequest) returns (AddBookResponse);
    rpc SearhcBook(SearhcBookRequest) returns (SearhcBookResponse);
    rpc BarrowBook(BarrowBookRequest) returns (BarrowBookResponse);
}

message AddBookRequest {
    string title = 1;
    string author = 2;
    int32 year_published = 3;
}

message AddBookResponse {
    string book_id = 1;
}

message SearhcBookRequest {
    string query = 1;
}

message SearhcBookResponse {
    repeated Book books = 1;
}

message BarrowBookRequest {
    string book_id = 1;
    string user_id = 2;
}

message BarrowBookResponse {
    bool success = 1;
}

message Book {
    string book_id = 1;
    string title = 2;
    string author = 3;
    int32 year_published = 4;
}